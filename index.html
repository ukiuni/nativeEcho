
<!doctype html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Native Echo</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;600;700&display=swap" rel="stylesheet">
	<style>
		:root {
			--bg: radial-gradient(circle at 20% 20%, #d7e9ff, #f5f7fb 45%),
						 radial-gradient(circle at 80% 0%, #ffe1f2, transparent 40%),
						 linear-gradient(135deg, #f8fbff 0%, #f1f4ff 100%);
			--card: #ffffff;
			--text: #0f172a;
			--muted: #475569;
			--accent: #2563eb;
			--accent-2: #10b981;
			--shadow: 0 20px 60px rgba(15, 23, 42, 0.12);
		}

		* { box-sizing: border-box; }

		body {
			margin: 0;
			min-height: 100vh;
			font-family: 'Manrope', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
			background: var(--bg);
			color: var(--text);
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 32px;
		}

		main {
			width: min(960px, 100%);
			background: var(--card);
			border-radius: 20px;
			box-shadow: var(--shadow);
			padding: 32px;
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 28px;
		}

		@media (max-width: 840px) {
			main { grid-template-columns: 1fr; }
		}

		header h1 {
			margin: 0 0 8px;
			font-size: 32px;
			letter-spacing: -0.02em;
		}

		header p {
			margin: 0 0 20px;
			color: var(--muted);
			line-height: 1.6;
		}

		.card {
			border: 1px solid #e2e8f0;
			border-radius: 16px;
			padding: 20px;
			background: #f8fafc;
		}

		.status {
			display: inline-flex;
			align-items: center;
			gap: 8px;
			font-weight: 600;
			padding: 8px 12px;
			border-radius: 999px;
			background: #e0f2fe;
			color: #0369a1;
			margin-bottom: 16px;
		}

		.status .dot {
			width: 10px;
			height: 10px;
			border-radius: 50%;
			background: #38bdf8;
			box-shadow: 0 0 0 6px rgba(56, 189, 248, 0.12);
			transition: transform 0.25s ease, background 0.25s ease;
		}

		.status[data-state="listening"] {
			background: #ecfeff;
			color: #0f172a;
		}

		.status[data-state="listening"] .dot { background: #0ea5e9; transform: scale(1.05); }
		.status[data-state="idle"] .dot { background: #94a3b8; box-shadow: none; }

		.controls { display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 12px; }

		button {
			border: none;
			border-radius: 12px;
			padding: 12px 16px;
			font-weight: 700;
			cursor: pointer;
			background: var(--accent);
			color: #fff;
			transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.2s ease;
			box-shadow: 0 10px 30px rgba(37, 99, 235, 0.35);
		}

		button.secondary {
			background: #e2e8f0;
			color: var(--text);
			box-shadow: none;
		}

		button:active { transform: translateY(1px); }

		.transcript-box {
			height: 280px;
			border-radius: 12px;
			border: 1px dashed #cbd5e1;
			padding: 16px;
			background: #fff;
			overflow-y: auto;
			font-size: 16px;
			line-height: 1.6;
		}

		.ghost {
			color: var(--muted);
			font-style: italic;
		}

		.pill-row {
			display: flex;
			gap: 10px;
			flex-wrap: wrap;
			margin-top: 12px;
		}

		.pill {
			padding: 8px 12px;
			border-radius: 999px;
			font-weight: 600;
			background: #e0f2fe;
			color: #0f172a;
		}
	</style>
</head>
<body>
	<main>
		<section>
			<header>
				<h1>Native Echo</h1>
				<p>喋った内容をリアルタイムで文字化し、2秒止まるとそのテキストをクリアな英語音声で再生します。聞き返しながら発音を磨きましょう。</p>
			</header>

			<div class="status" id="status" data-testid="status" data-state="idle">
				<span class="dot"></span>
				<span id="statusText">待機中</span>
			</div>

			<div class="controls">
				<button id="toggle" data-testid="toggle">録音を開始</button>
				<button id="clear" class="secondary" data-testid="clear">クリア</button>
			</div>

			<div class="pill-row">
				<div class="pill" data-testid="lang">英語 (en-US)</div>
				<div class="pill" data-testid="pause">無音2秒で再生</div>
			</div>
		</section>

		<section class="card">
			<h3 style="margin-top:0; margin-bottom:8px;">Transcript</h3>
			<p style="margin-top:0; color: var(--muted);">話した内容がここにリアルタイム表示されます。</p>
			<div id="transcript" class="transcript-box" data-testid="transcript">
				<span class="ghost">まだ発話がありません。</span>
			</div>
		</section>
	</main>

	<script src="./main.js"></script>
</body>
</html>
